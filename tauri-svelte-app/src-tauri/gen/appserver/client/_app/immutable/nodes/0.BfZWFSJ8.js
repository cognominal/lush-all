import{d as et,f as j,s as G,a as p,c as Q}from"../chunks/ou-dlvaJ.js";import{i as at}from"../chunks/hW6GtIeJ.js";import{h as pt,a as bt,$ as nt,ao as st,ap as lt,a3 as i,a4 as l,a5 as B,aq as M,d as t,u as Y,af as d,a1 as R,a2 as rt,a0 as V,V as _,Y as ht}from"../chunks/DYu2Xxxm.js";import{p as $,b as mt,i as D}from"../chunks/D4zezPoh.js";import{e as tt,s as q}from"../chunks/CDKZtUTz.js";function wt(I,b,o,v,c){var x;pt&&bt();var f=(x=b.$$slots)==null?void 0:x[o],g=!1;f===!0&&(f=b.children,g=!0),f===void 0||f(I,g?()=>v:v)}const kt=!0,gt=!1,Ct=Object.freeze(Object.defineProperty({__proto__:null,prerender:kt,ssr:gt},Symbol.toStringTag,{value:"Module"}));var xt=j('<div class="separator svelte-lt0wku" role="separator"></div>'),yt=j('<button type="button" class="menu-item svelte-lt0wku" role="menuitem"> </button>'),Lt=j('<div class="dropdown-content svelte-lt0wku" role="menu"><div class="hover-menu svelte-lt0wku"></div></div>'),Et=j('<div class="dropdown svelte-lt0wku"><button type="button" class="menu-button svelte-lt0wku" aria-haspopup="menu"><span> </span> <svg class="chevron svelte-lt0wku" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M6.7 9.3a1 1 0 0 1 1.4 0L12 13.2l3.9-3.9a1 1 0 1 1 1.4 1.4l-4.6 4.6a1 1 0 0 1-1.4 0L6.7 10.7a1 1 0 0 1 0-1.4Z" fill="currentColor"></path></svg></button> <!></div>'),At=j('<nav class="sk-nav svelte-lt0wku" aria-label="Primary"><a class="home-link svelte-lt0wku" href="/"> </a> <div class="menus svelte-lt0wku"></div> <div class="spacer svelte-lt0wku"></div></nav>');function Tt(I,b){nt(b,!1);let o=$(b,"spec",8),v=$(b,"homeLabel",8,"lush"),c=Y(null),f=Y(null);function g(e){return e.kind==="submenu"}function x(){d(c,null)}function y(e){window.dispatchEvent(new CustomEvent("lush:menu-action",{detail:e}))}function L(e){e.kind==="action"&&(e.disabled||(y({action:e.action}),x()))}function E(e){d(c,t(c)===e?null:e)}function C(){const e=a=>{if(!t(c))return;const r=a.target;r instanceof Node&&(t(f)&&t(f).contains(r)||x())},n=a=>{a.key==="Escape"&&x()};return document.addEventListener("pointerdown",e,!0),window.addEventListener("keydown",n),()=>{document.removeEventListener("pointerdown",e,!0),window.removeEventListener("keydown",n)}}let h=null;st(()=>{h=C()}),lt(()=>{h==null||h(),h=null}),at();var A=At(),T=i(A),P=i(T,!0);l(T);var z=B(T,2);tt(z,5,()=>(ht(o()),_(()=>o().menus)),e=>e.id,(e,n)=>{var a=Q(),r=V(a);{var s=u=>{var m=Et(),w=i(m);w.__click=()=>E(t(n).id);var H=i(w),S=i(H,!0);l(H),M(2),l(w);var it=B(w,2);{var ot=Z=>{var K=Lt(),W=i(K);tt(W,5,()=>(t(n),_(()=>t(n).items)),F=>F.id,(F,k)=>{var X=Q(),ut=V(X);{var dt=U=>{var N=xt();p(U,N)},vt=U=>{var N=Q(),ct=V(N);{var ft=J=>{var O=yt();O.__click=()=>L(t(k));var _t=i(O,!0);l(O),R(()=>{O.disabled=(t(k),_(()=>t(k).disabled===!0)),G(_t,(t(k),_(()=>t(k).label)))}),p(J,O)};D(ct,J=>{t(k),_(()=>t(k).kind==="action")&&J(ft)},!0)}p(U,N)};D(ut,U=>{t(k),_(()=>t(k).kind==="separator")?U(dt):U(vt,!1)})}p(F,X)}),l(W),l(K),R(()=>q(K,"aria-label",(t(n),_(()=>t(n).label)))),p(Z,K)};D(it,Z=>{t(c),t(n),_(()=>t(c)===t(n).id)&&Z(ot)})}l(m),R(()=>{q(w,"aria-expanded",(t(c),t(n),_(()=>t(c)===t(n).id))),G(S,(t(n),_(()=>t(n).label)))}),p(u,m)};D(r,u=>{t(n),_(()=>g(t(n)))&&u(s)})}p(e,a)}),l(z),M(2),l(A),mt(A,e=>d(f,e),()=>t(f)),R(()=>{q(T,"aria-label",v()),q(T,"title",v()),G(P,v())}),p(I,A),rt()}et(["click"]);const jt={menus:[{kind:"submenu",id:"help",label:"Help",items:[{kind:"action",id:"about",label:"About Lush",action:"about"}]}]};var St=j('<div class="fixed inset-0 z-50 flex items-center justify-center bg-surface-900/60 p-4" role="dialog" aria-modal="true" tabindex="0"><div class="card w-full max-w-md space-y-3 p-4"><div class="text-lg font-semibold text-surface-50">About Lush</div> <div class="text-sm text-surface-200"> </div> <div class="flex justify-end"><button type="button" class="btn btn-sm variant-filled">OK</button></div></div></div>'),Ut=j('<div class="flex min-h-screen w-full flex-col"><!> <div class="flex-1 min-h-0 w-full"><!></div></div> <!>',1);function Pt(I,b){nt(b,!1);let o=Y(!1),v=Y("Lush app (early stage)");function c(){d(v,"Lush app (early stage)"),d(o,!0)}function f(){const a=globalThis;if(!a.__TAURI__||typeof a.__TAURI__!="object")return null;const s=a.__TAURI__.event;return!s||typeof s!="object"||typeof s.listen!="function"?null:s}const g=f(),x=g!=null;let y=null,L=null,E=null;st(async()=>{const a=s=>{const u=s;d(v,typeof u.detail=="string"?u.detail:"Lush app (early stage)"),d(o,!0)};window.addEventListener("lush:about",a),L=()=>{window.removeEventListener("lush:about",a)};const r=s=>{const m=s.detail;if(!m||typeof m!="object")return;m.action==="about"&&c()};window.addEventListener("lush:menu-action",r),E=()=>{window.removeEventListener("lush:menu-action",r)},g&&(y=await g.listen("lush:about",s=>{d(v,typeof s.payload=="string"?s.payload:"Lush app (early stage)"),d(o,!0)}))}),lt(()=>{y==null||y(),y=null,L==null||L(),L=null,E==null||E(),E=null}),at();var C=Ut(),h=V(C),A=i(h);{var T=a=>{Tt(a,{get spec(){return jt},homeLabel:"lush"})};D(A,a=>{x||a(T)})}var P=B(A,2),z=i(P);wt(z,b,"default",{}),l(P),l(h);var e=B(h,2);{var n=a=>{var r=St();r.__click=S=>{S.currentTarget===S.target&&d(o,!1)},r.__keydown=S=>{S.key==="Escape"&&d(o,!1)};var s=i(r),u=B(i(s),2),m=i(u,!0);l(u);var w=B(u,2),H=i(w);H.__click=()=>d(o,!1),l(w),l(s),l(r),R(()=>G(m,t(v))),p(a,r)};D(e,a=>{t(o)&&a(n)})}p(I,C),rt()}et(["click","keydown"]);export{Pt as component,Ct as universal};
