{"version":3,"file":"_server.ts-BJ-dbYhO.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/logout/_server.ts.js"],"sourcesContent":["import { e as WORKOS_SESSION_COOKIE, d as cookieSecureFor, w as workos, b as workosCookiePassword } from \"../../../chunks/workos.js\";\nimport { redirect } from \"@sveltejs/kit\";\nconst GET = async ({ cookies, url }) => {\n  const sealedSession = cookies.get(WORKOS_SESSION_COOKIE);\n  const secure = cookieSecureFor(url);\n  cookies.delete(WORKOS_SESSION_COOKIE, { path: \"/\", secure });\n  if (!sealedSession) throw redirect(302, \"/\");\n  try {\n    const session = await workos().userManagement.loadSealedSession({\n      sessionData: sealedSession,\n      cookiePassword: workosCookiePassword()\n    });\n    const auth = await session.authenticate();\n    if (!auth.authenticated) throw redirect(302, \"/\");\n    const logoutUrl = await session.getLogoutUrl({\n      returnTo: url.origin\n    });\n    throw redirect(302, logoutUrl);\n  } catch {\n    throw redirect(302, \"/\");\n  }\n};\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;;AAEK,MAAC,GAAG,GAAG,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE,KAAK;AACxC,EAAE,MAAM,aAAa,GAAG,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC;AAC1D,EAAE,MAAM,MAAM,GAAG,eAAe,CAAC,GAAG,CAAC;AACrC,EAAE,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC;AAC9D,EAAE,IAAI,CAAC,aAAa,EAAE,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC;AAC9C,EAAE,IAAI;AACN,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM,EAAE,CAAC,cAAc,CAAC,iBAAiB,CAAC;AACpE,MAAM,WAAW,EAAE,aAAa;AAChC,MAAM,cAAc,EAAE,oBAAoB;AAC1C,KAAK,CAAC;AACN,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,YAAY,EAAE;AAC7C,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC;AACrD,IAAI,MAAM,SAAS,GAAG,MAAM,OAAO,CAAC,YAAY,CAAC;AACjD,MAAM,QAAQ,EAAE,GAAG,CAAC;AACpB,KAAK,CAAC;AACN,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,SAAS,CAAC;AAClC,EAAE,CAAC,CAAC,MAAM;AACV,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC;AAC5B,EAAE;AACF;;;;"}