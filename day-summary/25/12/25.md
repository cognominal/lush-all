Day summary (25/12/25)

- Added YAML hybrid tag specs (`yaml/spec*.md`) and clarified inline tag metadata, module loading/validation, and warning policy.
- Normalized Markdown heading/list spacing repo-wide multiple times to satisfy MD022; added AGENTS rule to normalize modified .md files.
- Refactored token model from InputToken/TokenMultiLine to Susy* types across lush-types, svelte-codemirror, svelte-app, yaml, and lush-term-editor.
- Built a /docs viewer in svelte-app: filesystem-backed tree + marked rendering, plus docs command/menu entry.
- Added `svelte.md` describing svelte.dev playground update flow; fixed minor a11y/blur issues.
- Added root `preview` script and ran checks/builds successfully.
- Added docs viewer link rewriting: relative `.md` links map to `/docs?path=...` with data attributes.
- Adjusted docs link rewrite to handle root-relative `.md` paths; docs palette now opens `lush.md`.
- Added Playwright setup and an e2e test for docs glossary link navigation.
- Continued install by running `bun run install:all` (yaml, lush-types, lush-term-editor).
- `bun test` failed because Playwright tests were picked up by Bun; `bun run --cwd svelte-app test:e2e` failed due to EPERM binding 127.0.0.1:4173.
- Added root `playright-tests` script to run the Svelte app Playwright suite.
- `bun run playright-tests` failed due to EPERM binding 127.0.0.1:4173 when starting the dev server.
- Switched Playwright to port 4174, but `bun run playright-tests` still failed with EPERM on 127.0.0.1.
- Re-ran `bun run playright-tests`; it still failed due to EPERM binding 127.0.0.1:4174.
- Killed node processes listening on ports 4173, 5173, and 5174; left port 5000 untouched.
- Re-ran `bun run playright-tests`; it still failed with EPERM binding 127.0.0.1:4174.
- `bun run --cwd lush-types test` and `bun run --cwd lush-term-editor test` passed; `bun run --cwd yaml test:vitest` failed resolving the `yaml` package entry and hung in watch mode.
- Updated docs link resolver to treat localhost absolute .md URLs as internal doc links.
- Fixed marked renderer overrides to use the parserâ€™s inline renderer so custom link rewriting applies in paragraph/list/heading output.
- Wrapped docs markdown rendering in a try/catch so render errors surface in-page instead of 500s.
- Fixed docs list item rendering to use the block parser so paragraph tokens are handled.
- Added case-sensitive toggle to docs search UI and wired it through URL params to the server-side matcher.
- Made the case-sensitive toggle re-run search immediately and reset all search state on Clear.
- Added client-side search history (query + toggle state) stored in localStorage with up/down navigation in the docs search field.
- Added a search history dropdown filtered by the current query, showing toggle metadata and supporting arrow navigation/click selection.
- Deduped search history entries by query + toggles, keeping the most recent entry.
- Extracted docs search history dropdown into a new component and added an AGENTS requirement for non-trivial UI changes to be componentized.
- Kept search history dropdown open during arrow navigation and clarified AGENTS to use Svelte Skeleton components for non-trivial UI changes.
- Set docs search input container to min 50ch and made search controls wrap into their own row on narrow widths.
- Added a Daily Summary search toggle, wired into URL params, search logic, history persistence, and dropdown metadata.
- Grouped docs search controls so they drop together into a new row, and stack vertically on narrow widths.
- Moved docs search controls into `DocsSearchBar` component and added AGENTS guidance to keep pages/components under 300 lines.
